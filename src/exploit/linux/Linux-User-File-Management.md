---
title: Linux User & File Management
description: 
tags:
    - Linux
refs:
date: 2023-10-26
draft: false
---

## User Management

```sh
# List all users
cat /etc/passwd
cat /etc/shadow

# Add users
useradd <user>
# -p: Specify password
useradd <user> -p <password>
# -u: Specify UID
# -g: Specify GID
useradd -u 1000 -g 1000 <user>

# Set passwords. It's stored in "/etc/shadow"
passwd <user>

# Delete users
deluser <user>
```
    
### Allow Users to Run Commands as Root Privilege
    
Add users to the “sudo” group.

```sh
usermod -a -G sudo <user>

# Check the permissions
su <user>
sudo -l
```

<br />

## Group Management

```sh
# List all groups
cat /etc/group
# List groups where the specific user in
groups
groups <user>

# Create a new group
groupadd <group>

# Delete a group
groupdel <group>

# Add an user to a group
# -a: append the user to the specific group
# -G: group
usermod -a -G <group> <user>

# Change the user's primary group
# -g: gid
usermod -g <group> <user>
```

<br />

## File Management

### Change Owners of Files/Directories

```sh
# User only
chown <user> <file>
chown <user> <dir>
# -R: Recursive
chown <user> -R <dir>

# Group only
chown :<group> <file>
chown :<group> <dir>

# User and group
chown <user>:<group> <file>
chown <user>:<group> <dir>
```
    
### Change Permissions of Files/Directories
    
```sh
# read+write+execute for an owner
chmod 700 sample.txt
chmod u+rwx sample.txt
# read+write+execute for a group
chmod 070 sample.txt
chmod g+rwx sample.txt
# read+write+execute for other users
chmod 007 sample.txt
chmod o+rwx sample.txt
# read+write+execute for all users
chmod 777 sample.txt
chmod a+rwx sample.txt

# read+write for an owner
chmod 600 sample.txt
```

### SUID/GUID of Files/Directories
    
```bash
# SUID for an owner
chmod u+s sample.txt

# GUID for a group
chmod g+s sample.txt
```